<!DOCTYPE html>
<html ng-app="fodinhaJSapp">
	<head>

		<!-- Socket IO -->
		<script src="/socket.io/socket.io.js"></script>

		<!-- Angular -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-sanitize.js"></script>

 		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery-2.2.2.js" integrity="sha256-4/zUCqiq0kqxhZIyp4G0Gk+AOtCJsY1TA00k5ClsZYE=" crossorigin="anonymous"></script>

		<!-- Bootstrap -->
 		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" rel="stylesheet">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.js"></script>

		<!-- Source -->
		<link href="css/main.css" rel="stylesheet">
		<script src="js/main.js"></script>

		<title>FodinhaJS</title>

	</head>

	<body ng-controller="fodinhaJSctrl">

		<!-- Navigation Bar -->
		<nav class="navbar navbar-inverse">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand">FodinhaJS</a>
				</div>
			</div>
		</nav>

		<!-- Main Container -->
		<div class="container"  >
			<div class="row">
				<div class="col-md-12 panel panel-default" style = "padding-top: 15px">

					<!-- Row = Login and Game -->
					<div class="row">

						<div class="col-md-3 col-xs-4">
							<!-- Login Panel -->
							<div class="panel panel-default fjs-login-panel">
								<div class="panel-heading" style = "text-align:center">
									<h3 class="panel-title"><b>Login</b></h3>
								</div>


								<div class="panel-body">

									<!-- Not logged in -->
									<div ng-show="loggedIn == 'no'" class="login-animate">
										<div class="row">
											<div class="col-xs-3">
												<h4>Nick:</h4>
											</div>
											<div class="col-xs-9">
												<input class="form-control" ng-model="me.name" type="text">
											</div>
										</div>
										<br />
										<button type="button" class="btn btn-lg btn-default center-block" ng-click="loginToggle()">
											Login
										</button>
									</div>

									<!-- Logged in -->
									<div ng-show="loggedIn == 'yes'" class="login-animate">
										<div style = "text-align:center">
											<h4>You are logged in, {{ me.name }}</h4>
										</div>
										<br />
										<button type="button" class="btn btn-lg btn-danger center-block" ng-click="loginToggle()">
											Logout
										</button>
									</div>

								</div>
							</div>

							<!-- Login Alert Box -->
							<div class="alert alert-danger" style="text-align:center" ng-show="loginError" ng-bind-html="loginErrorMessage">
							</div>

							<!-- Player Panel -->
							<div class="panel panel-default login-animate" ng-show="loggedIn == 'yes'">

							  	<div class="panel-heading"  style = "text-align:center">
					    			<h3 class="panel-title"><b>Players</b></h3>
							  	</div>

								<!-- Player List -->
							  	<div class="panel-body"  style = "text-align:center">
									<div ng-repeat="player in players" class="player-animate not-ready"	ng-class="player.ready ? 'ready' : ' ' ">
										{{player.name}}
									</div>
							  	</div>

								<!-- Ready Button -->
							  	<div class="panel-footer">
									<button type="button" class="btn btn-danger center-block" ng-click="readyToggle()">
										Ready
									</button>
									<br />
									<button type="button" class="btn login-animate start-disabled center-block"
										ng-class="{'start-button' : readyToStart}"
										ng-show="firstPlayer"
										ng-click="startGame()">
										Start Game
									</button>
							  	</div>
							</div>
						</div>

						<!-- Game Panel -->
						<div class="col-md-9 col-xs-8">
							<div class="panel panel-default">
								<div class="panel-heading" style = "text-align:center">
									<h3 class="panel-title"><b>Game</b></h3>
								</div>

								<div class="panel-body">

									<!-- Player Scoreboard -->
									<div class="panel panel-default fjs-game-main">
										<table class="table table-bordered fjs-game-table">
											<tr class="table-header">
												<td> Nick </td>
												<td> Lives </td>
												<td> Won/Bet </td>
											</tr>
											<tr ng-repeat="player in players">
												<td>{{player.name}}</td>
												<td>{{player.lives}}</td>
												<td>{{player.won}} / {{player.bet}}</td>
											</tr>
										</table>
									</div>

									<!-- Played cards -->
									<div class="panel panel-default">
										<table class ="table table-bordered fjs-player-cards">
											<tr class="table-header">
												<td ng-repeat= "player in players" >{{player.name}}</td>
											</tr>
											<tr>
 												<td
													class = "fjs-card"
													ng-repeat = "player in players"
													ng-bind-html = "player.card | cardFilter"
													ng-class="cardIsRed(player.card) ? 'red-card' : '' ">
												</td>
											</tr>
										</table>
									</div>

									<!-- Player hand section -->
									<div class="well well-lg" style="text-align:center" >
										<div class="row">
											<div
												class = "fjs-card fjs-hand"
												ng-repeat="card in cards"
												ng-bind-html = "card | cardFilter"
												ng-class="{'red-card' : cardIsRed(card), 'selected-card' : card == me.card}"
												ng-click = "cardSelect($index)" >
											</div>
										</div>
										<div class="row">
											<button type="button" class="btn btn-primary center-block" ng-click="playCard()">
												Play
											</button>
										</div>
									</div>

								</div>
							</div>
						</div> <!-- Game Panel end -->

					</div> <!-- Main row end -->
				</div> <!-- Main Container end -->
			</div>
		</div>

	</body>
</html>
